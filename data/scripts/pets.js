let pets = [
  {
    name: "01 piranha pig",
    points: 0,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-01-piranha-pig.png",
    xws: "01piranhapig",
  },
  {
    name: "01 piranha pig",
    points: 1,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-01-piranha-pig-back.png",
    xws: "01piranhapig",
  },
  {
    name: "02 hound",
    points: 2,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-02-hound.png",
    xws: "02hound",
  },
  {
    name: "02 hound",
    points: 3,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-02-hound-back.png",
    xws: "02hound",
  },
  {
    name: "03 spitting drake",
    points: 4,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-03-spitting-drake.png",
    xws: "03spittingdrake",
  },
  {
    name: "03 spitting drake",
    points: 5,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-03-spitting-drake-back.png",
    xws: "03spittingdrake",
  },
  {
    name: "04 rending drake",
    points: 6,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-04-rending-drake.png",
    xws: "04rendingdrake",
  },
  {
    name: "04 rending drake",
    points: 7,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-04-rending-drake-back.png",
    xws: "04rendingdrake",
  },
  {
    name: "05 black imp",
    points: 8,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-05-black-imp.png",
    xws: "05blackimp",
  },
  {
    name: "05 black imp",
    points: 9,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-05-black-imp-back.png",
    xws: "05blackimp",
  },
  {
    name: "06 forest imp",
    points: 10,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-06-forest-imp.png",
    xws: "06forestimp",
  },
  {
    name: "06 forest imp",
    points: 11,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-06-forest-imp-back.png",
    xws: "06forestimp",
  },
  {
    name: "07 snow imp",
    points: 12,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-07-snow-imp.png",
    xws: "07snowimp",
  },
  {
    name: "07 snow imp",
    points: 13,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-07-snow-imp-back.png",
    xws: "07snowimp",
  },
  {
    name: "08 ooze",
    points: 14,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-08-ooze.png",
    xws: "08ooze",
  },
  {
    name: "08 ooze",
    points: 15,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-08-ooze-back.png",
    xws: "08ooze",
  },
  {
    name: "09 ruined machine",
    points: 16,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-09-ruined-machine.png",
    xws: "09ruinedmachine",
  },
  {
    name: "09 ruined machine",
    points: 17,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-09-ruined-machine-back.png",
    xws: "09ruinedmachine",
  },
  {
    name: "10 lightning eel",
    points: 18,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-10-lightning-eel.png",
    xws: "10lightningeel",
  },
  {
    name: "10 lightning eel",
    points: 19,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-10-lightning-eel-back.png",
    xws: "10lightningeel",
  },
  {
    name: "11 heroics",
    points: 20,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-11-heroics.png",
    xws: "11heroics",
  },
  {
    name: "11 heroics",
    points: 21,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-11-heroics-back.png",
    xws: "11heroics",
  },
  {
    name: "12 brummix",
    points: 22,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-12-brummix.png",
    xws: "12brummix",
  },
  {
    name: "12 brummix",
    points: 23,
    expansion: "Frosthaven",
    image: "pets/frosthaven/fh-12-brummix-back.png",
    xws: "12brummix",
  },
];

const groupBy = (items, key) =>
  items.reduce(
    (result, item) => ({
      ...result,
      [item[key]]: [...(result[item[key]] || []), item],
    }),
    {},
  );

let fs = require("fs");

pets = pets
  .filter((pets) => !pets.image.endsWith("back.png"))
  .map((pet) => {
    let name = pet.name
      .split(" ")
      .slice(1)
      .map((w, i) => (i !== 0 && (w === "of" || w === "the") ? w : w.charAt(0).toUpperCase() + w.slice(1)));

    return {
      id: parseInt(pet.name.split(" ")[0], 10),
      name: name.join(" "),
      game: "fh",
      image: pet.image.replaceAll(".png", ".jpeg"),
      imageBack: pet.image.replaceAll(".png", "-back.jpeg"),
    };
  });

fs.writeFile("pet-cards.js", JSON.stringify(groupBy(pets, "game")), "utf8", () => console.log("pets", pets.length));
